# 🚀 Complete Deployment Guide - AYO Venue Scraper

## 📋 Quick Overview

This app is configured for **FREE** deployment using:
- **Hosting:** Render.com (Free tier - recommended)
- **Auto-Deployment:** GitHub Actions (optional but cool!)

## 🎯 Option 1: Deploy to Render (Recommended - EASIEST!)

### Step 1: Push Your Code to GitHub

```bash
# Initialize git (if not already)
git init

# Add all files
git add .

# Commit your changes
git commit -m "Initial commit - AYO Venue Scraper with rate limiting"

# Create GitHub repo and push
# Go to github.com → Create new repository
# Then:
git remote add origin https://github.com/YOUR_USERNAME/ayo-scrape.git
git branch -M main
git push -u origin main
```

### Step 2: Deploy to Render

1. **Sign up** at [render.com](https://render.com) (free!)

2. **Click "New +"** → **"Web Service"**

3. **Connect GitHub:**
   - Authorize Render to access your GitHub
   - Select your `ayo-scrape` repository

4. **Configure (use these exact settings):**
   ```
   Name: ayo-venue-scraper
   Region: Singapore (or closest to you)
   Branch: main
   Runtime: Python 3
   Build Command: pip install -r requirements.txt
   Start Command: gunicorn app:app --workers 1 --timeout 120
   Plan: Free
   ```

5. **Click "Create Web Service"**

6. **Wait 2-5 minutes** for deployment ⏳

7. **Done!** 🎉 Your app is live at:
   ```
   https://ayo-venue-scraper.onrender.com
   ```

### Step 3: Enable Auto-Deployment (Optional but Recommended)

Render automatically deploys when you push to `main` branch!

```bash
# Make changes to your code
git add .
git commit -m "Updated scraper"
git push

# Render will auto-deploy in ~2 minutes! 🚀
```

---

## 🤖 Option 2: Using GitHub Actions (Auto-Deploy)

I've created `.github/workflows/deploy.yml` for you!

### What it does:
- ✅ Runs tests when you push to `main`
- ✅ Validates your code
- ✅ Triggers Render deployment automatically

### How to use:

1. **Push to GitHub** (see Step 1 above)

2. **Go to your GitHub repo** → **Actions** tab

3. **See your deployment workflow** running automatically!

4. **Manual deployment:**
   - Go to **Actions** → **Deploy to Render**
   - Click **Run workflow** → **Run workflow**

---

## 🌍 Other Free Hosting Options

### Railway.app
```bash
# 1. Sign up at railway.app
# 2. Click "New Project" → "Deploy from GitHub"
# 3. Select your repo → Done!
# Auto-detects Python and uses Procfile
```

### Fly.io
```bash
# Install flyctl
curl -L https://fly.io/install.sh | sh

# Login
fly auth login

# Deploy
fly launch
fly deploy

# Done! App live at https://YOUR-APP.fly.dev
```

---

## ⚙️ Environment Variables (Already Configured!)

These are set automatically by Render:
- ✅ `PORT` - Auto-generated by Render
- ✅ `PYTHON_VERSION` - Set to 3.11.0

No manual configuration needed! 🎉

---

## 🔥 Free Tier Limitations & Solutions

### Render Free Tier:
- ❌ **Spins down after 15 min inactivity**
  - ✅ First request takes ~30s (cold start)
  - ✅ Solution: Use [UptimeRobot](https://uptimerobot.com) to ping every 5 min

- ❌ **750 hours/month** (enough for most use!)
  - ✅ ~31 days of uptime per month

### Memory Issues?
If you hit memory limits:
```javascript
// In the web interface:
Max Pages: 1-2 (instead of 0)
Max Venues: 10-20 (instead of 0)
```

---

## 🧪 Testing Deployment Locally

Before deploying, test with production server:

```bash
# Install dependencies
pip install -r requirements.txt

# Run with gunicorn (production server)
gunicorn app:app

# Visit http://localhost:8000
```

---

## 📊 Monitoring Your Deployment

### Check Logs:
1. Go to [Render Dashboard](https://dashboard.render.com)
2. Click your service
3. Go to **Logs** tab
4. See real-time logs!

### Check Status:
```
✅ Live: Green dot in Render dashboard
⚠️  Building: Yellow dot
❌ Failed: Red dot (check logs!)
```

---

## 🐛 Troubleshooting

### Deployment Failed?

**Check build logs:**
```bash
# In Render dashboard → Logs
# Look for errors like:
# - Missing dependencies → Add to requirements.txt
# - Python version mismatch → Check runtime.txt
# - Port binding error → Check app.py has PORT env var
```

**Common fixes:**
```bash
# Update requirements.txt
pip freeze > requirements.txt

# Push changes
git add requirements.txt
git commit -m "Update dependencies"
git push
```

### App Running Slow?

This is **normal** for web scraping!
- ✅ Scraping takes 1-5 minutes
- ✅ Free tier is slower than paid
- ✅ Use API mode for faster scraping

### Rate Limiting Not Working?

The rate limiting works based on IP address:
- ✅ Works across tabs
- ✅ Works in incognito mode
- ✅ Persists on refresh
- ✅ 30-second cooldown after each scrape

---

## 🎯 Quick Checklist

Before deploying, make sure:

- [ ] Code pushed to GitHub
- [ ] `requirements.txt` up to date
- [ ] `render.yaml` configured (already done!)
- [ ] Signed up for Render.com
- [ ] Connected GitHub to Render
- [ ] Created Web Service
- [ ] Deployment successful (check logs)
- [ ] App accessible at your Render URL

---

## 🎉 You're Live!

Your scraper is now deployed at:
```
https://YOUR-APP-NAME.onrender.com
```

Share it with your team! 🚀

### What Works Out of the Box:
- ✅ Real-time scraping progress with SSE
- ✅ 30-second rate limiting per IP
- ✅ Beautiful UI with countdown timer
- ✅ Hours & prices in results
- ✅ Auto-deployment from GitHub

### Next Steps:
1. Share the URL with users
2. Monitor usage in Render dashboard
3. Set up UptimeRobot to prevent cold starts (optional)
4. Add custom domain (optional, Render free tier supports this!)

---

## 📞 Need Help?

- 📖 [Render Docs](https://render.com/docs)
- 🐛 [GitHub Issues](https://github.com/YOUR_USERNAME/ayo-scrape/issues)
- 💬 Check deployment logs in Render dashboard

Happy scraping! 🎾🏸
